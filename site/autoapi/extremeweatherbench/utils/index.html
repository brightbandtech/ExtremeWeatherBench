
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Brightband PBC">
      
      
        <link rel="canonical" href="https://extremeweatherbench.readthedocs.io/autoapi/extremeweatherbench/utils/">
      
      
        <link rel="prev" href="../sources/xarray_dataset/">
      
      
      
        
      
      
      <link rel="icon" href="../../../_static/bb.svg">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>utils - ExtremeWeatherBench</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=DM+Sans:300,300i,400,400i,700,700i%7CDM+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"DM Sans";--md-code-font:"DM Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#extremeweatherbench.utils" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="ExtremeWeatherBench" class="md-header__button md-logo" aria-label="ExtremeWeatherBench" data-md-component="logo">
      <img id="logo_dark_mode" src="../../../_static/bb_light.svg" alt="logo">
<img id="logo_light_mode" src="../../../_static/bb_dark.svg" alt="logo">
    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ExtremeWeatherBench
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              utils
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15 13h1.5v2.82l2.44 1.41-.75 1.3L15 16.69zm3.13-3.67C17.23 6.81 14.83 5 12 5 9.3 5 7 6.65 6 9c-2.76 0-5 2.24-5 5s2.24 5 5 5h3.68c1.13 2.36 3.53 4 6.32 4 3.87 0 7-3.13 7-7 0-3.12-2.04-5.76-4.87-6.67M6 17c-1.66 0-3-1.34-3-3s1.34-3 3-3c.37 0 .73.07 1.06.19A5.004 5.004 0 0 1 12 7c1.63 0 3.07.79 4 2-3.88 0-7 3.14-7 7 0 .34.03.67.08 1zm10 4c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="bb-light" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="bb-dark" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/brightbandtech/extremeweatherbench" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    brightbandtech/extremeweatherbench
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="ExtremeWeatherBench" class="md-nav__button md-logo" aria-label="ExtremeWeatherBench" data-md-component="logo">
      <img id="logo_dark_mode" src="../../../_static/bb_light.svg" alt="logo">
<img id="logo_light_mode" src="../../../_static/bb_dark.svg" alt="logo">
    </a>
    ExtremeWeatherBench
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/brightbandtech/extremeweatherbench" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    brightbandtech/extremeweatherbench
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../installation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Installation
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../usage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Usage
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../parallelism/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    A Note on Parallelism
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Event Categories
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Event Categories
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../events/AllCaseStudies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    All Case Studies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Atmospheric Rivers
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Atmospheric Rivers
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../events/AtmosphericRivers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../events/atmospheric_rivers/november_2024_west_coast_us/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    November 2024 West Coast US
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../events/ConvectiveWx/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Severe Convection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../events/Derechos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Derechos
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../events/Flooding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Flooding
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../events/FreezeEvents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Freezes
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../events/Heatwaves/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Heatwaves
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../events/OtherFloods/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Other Floods
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../events/TropicalCyclones/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tropical Cyclones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../events/TCFloods/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tropical Cyclone Flooding
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../events/TCTornadoOutbreaks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tropical Cyclone Tornadic Outbreaks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../events/WindEvents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Wind Events
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../events/WinterWeather/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Winter Weather
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Cookbook
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cookbook
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../recipes/cira_forecast/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CIRA Forecast
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../recipes/your_own_forecast/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BYOF (Bring Your Own Forecast)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../recipes/your_own_target/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BYOT (Bring Your Own Target)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../recipes/your_own_metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BYOM (Bring Your Own Metrics)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../recipes/your_own_variable/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    BYOV (Bring Your Own Variable)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../recipes/evaluate_recent_tropical_cyclones/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Evaluate Recent Tropical Cyclones
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../recipes/near_real_time_point_observations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Near Real-Time Point Observations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../recipes/single_case/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Single Case
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../recipes/one_forecast_two_targets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    One Forecast, Two Targets
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../recipes/multi_model_evaluation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Multi Model Evaluation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Contributing
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../license.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    License
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" checked>
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    API Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    API Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1" checked>
        
          
          <label class="md-nav__link" for="__nav_9_1" id="__nav_9_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    extremeweatherbench
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_9_1_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_9_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    extremeweatherbench
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../_cape/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    _cape
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../calc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    calc
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cases/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    cases
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../defaults/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    defaults
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../derived/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    derived
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../evaluate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    evaluate
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../evaluate_cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    evaluate_cli
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1_8" >
        
          
          <label class="md-nav__link" for="__nav_9_1_8" id="__nav_9_1_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    events
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_1_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    events
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../events/atmospheric_river/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    atmospheric_river
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../events/severe_convection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    severe_convection
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../events/tropical_cyclone/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    tropical_cyclone
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../inputs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    inputs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    metrics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../regions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    regions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9_1_12" >
        
          
          <label class="md-nav__link" for="__nav_9_1_12" id="__nav_9_1_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    sources
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_9_1_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9_1_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    sources
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sources/base/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    base
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sources/pandas_dataframe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    pandas_dataframe
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sources/polars_lazyframe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    polars_lazyframe
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sources/xarray_dataarray/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    xarray_dataarray
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sources/xarray_dataset/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    xarray_dataset
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    utils
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    utils
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils" class="md-nav__link">
    <span class="md-ellipsis">
      
        utils
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.ParallelTqdm" class="md-nav__link">
    <span class="md-ellipsis">
      
        ParallelTqdm
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ParallelTqdm">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.ParallelTqdm.print_progress" class="md-nav__link">
    <span class="md-ellipsis">
      
        print_progress
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.check_for_vars" class="md-nav__link">
    <span class="md-ellipsis">
      
        check_for_vars
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.convert_day_yearofday_to_time" class="md-nav__link">
    <span class="md-ellipsis">
      
        convert_day_yearofday_to_time
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.convert_init_time_to_valid_time" class="md-nav__link">
    <span class="md-ellipsis">
      
        convert_init_time_to_valid_time
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.convert_longitude_to_180" class="md-nav__link">
    <span class="md-ellipsis">
      
        convert_longitude_to_180
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.convert_longitude_to_360" class="md-nav__link">
    <span class="md-ellipsis">
      
        convert_longitude_to_360
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.convert_valid_time_to_init_time" class="md-nav__link">
    <span class="md-ellipsis">
      
        convert_valid_time_to_init_time
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.derive_indices_from_init_time_and_lead_time" class="md-nav__link">
    <span class="md-ellipsis">
      
        derive_indices_from_init_time_and_lead_time
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.determine_temporal_resolution" class="md-nav__link">
    <span class="md-ellipsis">
      
        determine_temporal_resolution
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.extract_tc_names" class="md-nav__link">
    <span class="md-ellipsis">
      
        extract_tc_names
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.filter_kwargs_for_callable" class="md-nav__link">
    <span class="md-ellipsis">
      
        filter_kwargs_for_callable
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.idx_to_coords" class="md-nav__link">
    <span class="md-ellipsis">
      
        idx_to_coords
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.interp_climatology_to_target" class="md-nav__link">
    <span class="md-ellipsis">
      
        interp_climatology_to_target
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.load_events_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      
        load_events_yaml
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.load_land_geometry" class="md-nav__link">
    <span class="md-ellipsis">
      
        load_land_geometry
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.maybe_densify_dataarray" class="md-nav__link">
    <span class="md-ellipsis">
      
        maybe_densify_dataarray
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.maybe_get_operator" class="md-nav__link">
    <span class="md-ellipsis">
      
        maybe_get_operator
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.min_if_all_timesteps_present" class="md-nav__link">
    <span class="md-ellipsis">
      
        min_if_all_timesteps_present
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.min_if_all_timesteps_present_forecast" class="md-nav__link">
    <span class="md-ellipsis">
      
        min_if_all_timesteps_present_forecast
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.read_event_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      
        read_event_yaml
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.reduce_dataarray" class="md-nav__link">
    <span class="md-ellipsis">
      
        reduce_dataarray
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.remove_ocean_gridpoints" class="md-nav__link">
    <span class="md-ellipsis">
      
        remove_ocean_gridpoints
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.stack_dataarray_from_dims" class="md-nav__link">
    <span class="md-ellipsis">
      
        stack_dataarray_from_dims
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils" class="md-nav__link">
    <span class="md-ellipsis">
      
        utils
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.ParallelTqdm" class="md-nav__link">
    <span class="md-ellipsis">
      
        ParallelTqdm
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ParallelTqdm">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.ParallelTqdm.print_progress" class="md-nav__link">
    <span class="md-ellipsis">
      
        print_progress
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.check_for_vars" class="md-nav__link">
    <span class="md-ellipsis">
      
        check_for_vars
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.convert_day_yearofday_to_time" class="md-nav__link">
    <span class="md-ellipsis">
      
        convert_day_yearofday_to_time
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.convert_init_time_to_valid_time" class="md-nav__link">
    <span class="md-ellipsis">
      
        convert_init_time_to_valid_time
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.convert_longitude_to_180" class="md-nav__link">
    <span class="md-ellipsis">
      
        convert_longitude_to_180
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.convert_longitude_to_360" class="md-nav__link">
    <span class="md-ellipsis">
      
        convert_longitude_to_360
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.convert_valid_time_to_init_time" class="md-nav__link">
    <span class="md-ellipsis">
      
        convert_valid_time_to_init_time
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.derive_indices_from_init_time_and_lead_time" class="md-nav__link">
    <span class="md-ellipsis">
      
        derive_indices_from_init_time_and_lead_time
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.determine_temporal_resolution" class="md-nav__link">
    <span class="md-ellipsis">
      
        determine_temporal_resolution
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.extract_tc_names" class="md-nav__link">
    <span class="md-ellipsis">
      
        extract_tc_names
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.filter_kwargs_for_callable" class="md-nav__link">
    <span class="md-ellipsis">
      
        filter_kwargs_for_callable
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.idx_to_coords" class="md-nav__link">
    <span class="md-ellipsis">
      
        idx_to_coords
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.interp_climatology_to_target" class="md-nav__link">
    <span class="md-ellipsis">
      
        interp_climatology_to_target
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.load_events_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      
        load_events_yaml
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.load_land_geometry" class="md-nav__link">
    <span class="md-ellipsis">
      
        load_land_geometry
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.maybe_densify_dataarray" class="md-nav__link">
    <span class="md-ellipsis">
      
        maybe_densify_dataarray
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.maybe_get_operator" class="md-nav__link">
    <span class="md-ellipsis">
      
        maybe_get_operator
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.min_if_all_timesteps_present" class="md-nav__link">
    <span class="md-ellipsis">
      
        min_if_all_timesteps_present
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.min_if_all_timesteps_present_forecast" class="md-nav__link">
    <span class="md-ellipsis">
      
        min_if_all_timesteps_present_forecast
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.read_event_yaml" class="md-nav__link">
    <span class="md-ellipsis">
      
        read_event_yaml
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.reduce_dataarray" class="md-nav__link">
    <span class="md-ellipsis">
      
        reduce_dataarray
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.remove_ocean_gridpoints" class="md-nav__link">
    <span class="md-ellipsis">
      
        remove_ocean_gridpoints
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#extremeweatherbench.utils.stack_dataarray_from_dims" class="md-nav__link">
    <span class="md-ellipsis">
      
        stack_dataarray_from_dims
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>utils</h1>

<div class="doc doc-object doc-module">



<a id="extremeweatherbench.utils"></a>
    <div class="doc doc-contents first">

        <p>Utility functions for the ExtremeWeatherBench package that don't fit into any other
specialized package.</p>










<p><span class="doc-section-title">Classes:</span></p>
    <ul>
        <li class="doc-section-item field-body">
          <b><code><a class="autorefs autorefs-internal" title="ParallelTqdm (extremeweatherbench.utils.ParallelTqdm)" href="#extremeweatherbench.utils.ParallelTqdm">ParallelTqdm</a></code></b>
          –
          <div class="doc-md-description">
            <p>joblib.Parallel, but with a tqdm progressbar</p>
          </div>
        </li>
    </ul>




<p><span class="doc-section-title">Functions:</span></p>
    <ul>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="check_for_vars (extremeweatherbench.utils.check_for_vars)" href="#extremeweatherbench.utils.check_for_vars">check_for_vars</a></code></b>
            –
            <div class="doc-md-description">
              <p>Check if the variable is in the source.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="convert_day_yearofday_to_time (extremeweatherbench.utils.convert_day_yearofday_to_time)" href="#extremeweatherbench.utils.convert_day_yearofday_to_time">convert_day_yearofday_to_time</a></code></b>
            –
            <div class="doc-md-description">
              <p>Convert dayofyear and hour to new time coordinate.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="convert_init_time_to_valid_time (extremeweatherbench.utils.convert_init_time_to_valid_time)" href="#extremeweatherbench.utils.convert_init_time_to_valid_time">convert_init_time_to_valid_time</a></code></b>
            –
            <div class="doc-md-description">
              <p>Convert the init_time coordinate to a valid_time coordinate.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="convert_longitude_to_180 (extremeweatherbench.utils.convert_longitude_to_180)" href="#extremeweatherbench.utils.convert_longitude_to_180">convert_longitude_to_180</a></code></b>
            –
            <div class="doc-md-description">
              <p>Convert a longitude from the range [0, 360) to [-180, 180).</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="convert_longitude_to_360 (extremeweatherbench.utils.convert_longitude_to_360)" href="#extremeweatherbench.utils.convert_longitude_to_360">convert_longitude_to_360</a></code></b>
            –
            <div class="doc-md-description">
              <p>Convert a longitude from the range [-180, 180) to [0, 360).</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="convert_valid_time_to_init_time (extremeweatherbench.utils.convert_valid_time_to_init_time)" href="#extremeweatherbench.utils.convert_valid_time_to_init_time">convert_valid_time_to_init_time</a></code></b>
            –
            <div class="doc-md-description">
              <p>Convert the valid_time coordinate to a init_time coordinate.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="derive_indices_from_init_time_and_lead_time (extremeweatherbench.utils.derive_indices_from_init_time_and_lead_time)" href="#extremeweatherbench.utils.derive_indices_from_init_time_and_lead_time">derive_indices_from_init_time_and_lead_time</a></code></b>
            –
            <div class="doc-md-description">
              <p>Derive the indices of valid times in a dataset when the dataset has init_time and</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="determine_temporal_resolution (extremeweatherbench.utils.determine_temporal_resolution)" href="#extremeweatherbench.utils.determine_temporal_resolution">determine_temporal_resolution</a></code></b>
            –
            <div class="doc-md-description">
              <p>Determine the temporal resolution of the data.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="extract_tc_names (extremeweatherbench.utils.extract_tc_names)" href="#extremeweatherbench.utils.extract_tc_names">extract_tc_names</a></code></b>
            –
            <div class="doc-md-description">
              <p>Extract tropical cyclone names from case title.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="filter_kwargs_for_callable (extremeweatherbench.utils.filter_kwargs_for_callable)" href="#extremeweatherbench.utils.filter_kwargs_for_callable">filter_kwargs_for_callable</a></code></b>
            –
            <div class="doc-md-description">
              <p>Filter kwargs to only include arguments that the callable can accept.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="idx_to_coords (extremeweatherbench.utils.idx_to_coords)" href="#extremeweatherbench.utils.idx_to_coords">idx_to_coords</a></code></b>
            –
            <div class="doc-md-description">
              <p>Convert indices to coordinates, handling NaN indices.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="interp_climatology_to_target (extremeweatherbench.utils.interp_climatology_to_target)" href="#extremeweatherbench.utils.interp_climatology_to_target">interp_climatology_to_target</a></code></b>
            –
            <div class="doc-md-description">
              <p>Interpolate a climatology to a target data array.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="load_events_yaml (extremeweatherbench.utils.load_events_yaml)" href="#extremeweatherbench.utils.load_events_yaml">load_events_yaml</a></code></b>
            –
            <div class="doc-md-description">
              <p>Load the events yaml file.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="load_land_geometry (extremeweatherbench.utils.load_land_geometry)" href="#extremeweatherbench.utils.load_land_geometry">load_land_geometry</a></code></b>
            –
            <div class="doc-md-description">
              <p>Load the land geometry, excluding lakes.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="maybe_densify_dataarray (extremeweatherbench.utils.maybe_densify_dataarray)" href="#extremeweatherbench.utils.maybe_densify_dataarray">maybe_densify_dataarray</a></code></b>
            –
            <div class="doc-md-description">
              <p>Densify a dataarray's data if it is sparse.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="maybe_get_operator (extremeweatherbench.utils.maybe_get_operator)" href="#extremeweatherbench.utils.maybe_get_operator">maybe_get_operator</a></code></b>
            –
            <div class="doc-md-description">
              <p>Get the operator function from the operator string. If the operator_method is a</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="min_if_all_timesteps_present (extremeweatherbench.utils.min_if_all_timesteps_present)" href="#extremeweatherbench.utils.min_if_all_timesteps_present">min_if_all_timesteps_present</a></code></b>
            –
            <div class="doc-md-description">
              <p>Return the minimum value of a DataArray if all timesteps of a day are present.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="min_if_all_timesteps_present_forecast (extremeweatherbench.utils.min_if_all_timesteps_present_forecast)" href="#extremeweatherbench.utils.min_if_all_timesteps_present_forecast">min_if_all_timesteps_present_forecast</a></code></b>
            –
            <div class="doc-md-description">
              <p>Return the minimum value of a DataArray if all timesteps of a day are present</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="read_event_yaml (extremeweatherbench.utils.read_event_yaml)" href="#extremeweatherbench.utils.read_event_yaml">read_event_yaml</a></code></b>
            –
            <div class="doc-md-description">
              <p>Read events yaml from data.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="reduce_dataarray (extremeweatherbench.utils.reduce_dataarray)" href="#extremeweatherbench.utils.reduce_dataarray">reduce_dataarray</a></code></b>
            –
            <div class="doc-md-description">
              <p>Reduce using xarray methods or numpy functions.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="remove_ocean_gridpoints (extremeweatherbench.utils.remove_ocean_gridpoints)" href="#extremeweatherbench.utils.remove_ocean_gridpoints">remove_ocean_gridpoints</a></code></b>
            –
            <div class="doc-md-description">
              <p>Subset a dataset to only include land gridpoints based on a land-sea mask.</p>
            </div>
          </li>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="stack_dataarray_from_dims (extremeweatherbench.utils.stack_dataarray_from_dims)" href="#extremeweatherbench.utils.stack_dataarray_from_dims">stack_dataarray_from_dims</a></code></b>
            –
            <div class="doc-md-description">
              <p>Stack sparse data with n-dimensions.</p>
            </div>
          </li>
    </ul>





<div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="extremeweatherbench.utils.ParallelTqdm" class="doc doc-heading">
            <span class="doc doc-object-name doc-class-name">ParallelTqdm</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">ParallelTqdm</span><span class="p">(</span>
    <span class="o">*</span><span class="p">,</span>
    <span class="n">total_tasks</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">desc</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">disable_progressbar</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">show_joblib_header</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwargs</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="joblib.Parallel">Parallel</span></code></p>



        <p>joblib.Parallel, but with a tqdm progressbar
From: https://gist.github.com/tsvikas/5f859a484e53d4ef93400751d0a116de
Attributes:
    total_tasks: int, default: None
        the number of expected jobs. Used in the tqdm progressbar.
        If None, try to infer from the length of the called iterator, and
        fallback to use the number of remaining items as soon as we finish
        dispatching.
        Note: use a list instead of an iterator if you want the total_tasks
        to be inferred from its length.</p>
<pre><code>desc: str, default: None
    the description used in the tqdm progressbar.

disable_progressbar: bool, default: False
    If True, a tqdm progressbar is not used.

show_joblib_header: bool, default: False
    If True, show joblib header before the progressbar.
</code></pre>
<p>Example:</p>
<blockquote>
<blockquote>
<blockquote>
<p>from joblib import delayed
from time import sleep
ParallelTqdm(n_jobs=-1)([delayed(sleep)(0.1) for _ in range(10)])
80%|████████  | 8/10 [00:02&lt;00:00,  3.12tasks/s]</p>
</blockquote>
</blockquote>
</blockquote>












<p><span class="doc-section-title">Methods:</span></p>
    <ul>
          <li class="doc-section-item field-body">
            <b><code><a class="autorefs autorefs-internal" title="print_progress (extremeweatherbench.utils.ParallelTqdm.print_progress)" href="#extremeweatherbench.utils.ParallelTqdm.print_progress">print_progress</a></code></b>
            –
            <div class="doc-md-description">
              <p>Display the process of the parallel execution using tqdm</p>
            </div>
          </li>
    </ul>






<div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="extremeweatherbench.utils.ParallelTqdm.print_progress" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">print_progress</span>


</h3>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">print_progress</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Display the process of the parallel execution using tqdm</p>


    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="extremeweatherbench.utils.check_for_vars" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">check_for_vars</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">check_for_vars</span><span class="p">(</span><span class="n">variable_list</span><span class="p">,</span> <span class="n">source</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Check if the variable is in the source.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>variable_list</code></b>
              (<code><span title="list">list</span>[<span title="str">str</span>]</code>)
          –
          <div class="doc-md-description">
            <p>The list of variables to check for.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>source</code></b>
              (<code><span title="typing.Sequence">Sequence</span></code>)
          –
          <div class="doc-md-description">
            <p>The source to check for the variables.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
          –
          <div class="doc-md-description">
            <p>The variable if it is in the source, otherwise None.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="extremeweatherbench.utils.convert_day_yearofday_to_time" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">convert_day_yearofday_to_time</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">convert_day_yearofday_to_time</span><span class="p">(</span><span class="n">dataset</span><span class="p">,</span> <span class="n">year</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Convert dayofyear and hour to new time coordinate.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>dataset</code></b>
              (<code><span title="typing.Union">Union</span>[<span title="xarray.Dataset">Dataset</span>, <span title="xarray.DataArray">DataArray</span>]</code>)
          –
          <div class="doc-md-description">
            <p>The input xarray dataset or dataarray.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>year</code></b>
              (<code><span title="int">int</span></code>)
          –
          <div class="doc-md-description">
            <p>The base year to use for the time coordinate.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="typing.Union">Union</span>[<span title="xarray.Dataset">Dataset</span>, <span title="xarray.DataArray">DataArray</span>]</code>
          –
          <div class="doc-md-description">
            <p>The dataset or dataarray with a new time coordinate.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="extremeweatherbench.utils.convert_init_time_to_valid_time" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">convert_init_time_to_valid_time</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">convert_init_time_to_valid_time</span><span class="p">(</span><span class="n">ds</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Convert the init_time coordinate to a valid_time coordinate.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>ds</code></b>
              (<code><span title="xarray.Dataset">Dataset</span></code>)
          –
          <div class="doc-md-description">
            <p>The dataset to convert with lead_time and init_time coordinates.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="xarray.Dataset">Dataset</span></code>
          –
          <div class="doc-md-description">
            <p>The dataset with a valid_time coordinate.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="extremeweatherbench.utils.convert_longitude_to_180" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">convert_longitude_to_180</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">convert_longitude_to_180</span><span class="p">(</span>
    <span class="n">longitude</span><span class="p">,</span> <span class="n">longitude_name</span><span class="o">=</span><span class="s2">&quot;longitude&quot;</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Convert a longitude from the range [0, 360) to [-180, 180).</p>
<p>Datasets are coerced to [-180, 180) and sorted by longitude.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="extremeweatherbench.utils.convert_longitude_to_360" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">convert_longitude_to_360</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">convert_longitude_to_360</span><span class="p">(</span><span class="n">longitude</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Convert a longitude from the range [-180, 180) to [0, 360).</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="extremeweatherbench.utils.convert_valid_time_to_init_time" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">convert_valid_time_to_init_time</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">convert_valid_time_to_init_time</span><span class="p">(</span><span class="n">da</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Convert the valid_time coordinate to a init_time coordinate.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>ds</code></b>
          –
          <div class="doc-md-description">
            <p>The dataset to convert with lead_time and valid_time coordinates.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="xarray.DataArray">DataArray</span></code>
          –
          <div class="doc-md-description">
            <p>The dataset with a init_time coordinate.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="extremeweatherbench.utils.derive_indices_from_init_time_and_lead_time" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">derive_indices_from_init_time_and_lead_time</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">derive_indices_from_init_time_and_lead_time</span><span class="p">(</span>
    <span class="n">dataset</span><span class="p">,</span> <span class="n">start_date</span><span class="p">,</span> <span class="n">end_date</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Derive the indices of valid times in a dataset when the dataset has init_time and
lead_time coordinates.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>dataset</code></b>
              (<code><span title="xarray.Dataset">Dataset</span></code>)
          –
          <div class="doc-md-description">
            <p>The dataset to derive the indices from.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>start_date</code></b>
              (<code><span title="datetime.datetime">datetime</span></code>)
          –
          <div class="doc-md-description">
            <p>The start date to derive the indices from.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>end_date</code></b>
              (<code><span title="datetime.datetime">datetime</span></code>)
          –
          <div class="doc-md-description">
            <p>The end date to derive the indices from.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="tuple">tuple</span>[<span title="numpy.ndarray">ndarray</span>[<span title="typing.Any">Any</span>, <span title="typing.Any">Any</span>], ...]</code>
          –
          <div class="doc-md-description">
            <p>The indices of valid times in the dataset.</p>
          </div>
        </li>
    </ul>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>import xarray as xr
import datetime
import pandas as pd
from extremeweatherbench.utils import (
...     derive_indices_from_init_time_and_lead_time,
... )
ds = xr.Dataset(
...     coords={
...         "init_time": pd.date_range("2020-01-01", "2020-01-03"),
...         "lead_time": [0, 24, 48],  # hours
...     }
... )
start = datetime.datetime(2020, 1, 1)
end = datetime.datetime(2020, 1, 4)
indices = derive_indices_from_init_time_and_lead_time(ds, start, end)
print(indices)
array([0, 0, 1, 1, 2])</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="extremeweatherbench.utils.determine_temporal_resolution" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">determine_temporal_resolution</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">determine_temporal_resolution</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Determine the temporal resolution of the data.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>data</code></b>
              (<code><span title="xarray.Dataset">Dataset</span> | <span title="xarray.DataArray">DataArray</span></code>)
          –
          <div class="doc-md-description">
            <p>The input dataset with a valid_time dimension or coordinate.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="typing.Optional">Optional</span>[<span title="float">float</span>]</code>
          –
          <div class="doc-md-description">
            <p>The temporal resolution of the data as a float in hours.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="extremeweatherbench.utils.extract_tc_names" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">extract_tc_names</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">extract_tc_names</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Extract tropical cyclone names from case title.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="extremeweatherbench.utils.filter_kwargs_for_callable" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">filter_kwargs_for_callable</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">filter_kwargs_for_callable</span><span class="p">(</span><span class="n">kwargs</span><span class="p">,</span> <span class="n">callable_obj</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Filter kwargs to only include arguments that the callable can accept.</p>
<p>This method uses introspection to determine which arguments the callable
can accept and filters kwargs accordingly.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>kwargs</code></b>
              (<code><span title="dict">dict</span></code>)
          –
          <div class="doc-md-description">
            <p>The full kwargs dictionary to filter</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>callable_obj</code></b>
              (<code><span title="typing.Callable">Callable</span></code>)
          –
          <div class="doc-md-description">
            <p>The callable (function, method, etc.) to check against</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="dict">dict</span></code>
          –
          <div class="doc-md-description">
            <p>A filtered dictionary containing only the kwargs that the callable can accept</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="extremeweatherbench.utils.idx_to_coords" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">idx_to_coords</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">idx_to_coords</span><span class="p">(</span><span class="n">lat_idx</span><span class="p">,</span> <span class="n">lon_idx</span><span class="p">,</span> <span class="n">lat_coords</span><span class="p">,</span> <span class="n">lon_coords</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Convert indices to coordinates, handling NaN indices.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>lat_idx</code></b>
              (<code><span title="numpy.typing.NDArray">NDArray</span></code>)
          –
          <div class="doc-md-description">
            <p>The latitude indices.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>lon_idx</code></b>
              (<code><span title="numpy.typing.NDArray">NDArray</span></code>)
          –
          <div class="doc-md-description">
            <p>The longitude indices.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>lat_coords</code></b>
              (<code><span title="numpy.typing.NDArray">NDArray</span></code>)
          –
          <div class="doc-md-description">
            <p>The latitude coordinates.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>lon_coords</code></b>
              (<code><span title="numpy.typing.NDArray">NDArray</span></code>)
          –
          <div class="doc-md-description">
            <p>The longitude coordinates.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="tuple">tuple</span>[<span title="numpy.typing.NDArray">NDArray</span>, <span title="numpy.typing.NDArray">NDArray</span>]</code>
          –
          <div class="doc-md-description">
            <p>The latitude and longitude coordinates.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="extremeweatherbench.utils.interp_climatology_to_target" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">interp_climatology_to_target</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">interp_climatology_to_target</span><span class="p">(</span><span class="n">target</span><span class="p">,</span> <span class="n">climatology</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Interpolate a climatology to a target data array.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>target</code></b>
              (<code><span title="xarray.DataArray">DataArray</span></code>)
          –
          <div class="doc-md-description">
            <p>The target data array to interpolate the climatology to.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>climatology</code></b>
              (<code><span title="xarray.DataArray">DataArray</span></code>)
          –
          <div class="doc-md-description">
            <p>The climatology data array to interpolate.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="xarray.DataArray">DataArray</span></code>
          –
          <div class="doc-md-description">
            <p>The interpolated climatology data array. If the target is sparse, the</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
              <code><span title="xarray.DataArray">DataArray</span></code>
          –
          <div class="doc-md-description">
            <p>climatology is interpolated to the target coordinates. If the target is not</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
              <code><span title="xarray.DataArray">DataArray</span></code>
          –
          <div class="doc-md-description">
            <p>sparse, the climatology is interpolated to the target coordinates.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="extremeweatherbench.utils.load_events_yaml" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">load_events_yaml</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">load_events_yaml</span><span class="p">()</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Load the events yaml file.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="extremeweatherbench.utils.load_land_geometry" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">load_land_geometry</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">load_land_geometry</span><span class="p">(</span><span class="n">resolution</span><span class="o">=</span><span class="s1">&#39;10m&#39;</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Load the land geometry, excluding lakes.</p>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="shapely.geometry.Polygon">Polygon</span></code>
          –
          <div class="doc-md-description">
            <p>The land geometry as a shapely Polygon with lakes excluded.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="extremeweatherbench.utils.maybe_densify_dataarray" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">maybe_densify_dataarray</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">maybe_densify_dataarray</span><span class="p">(</span><span class="n">da</span><span class="p">,</span> <span class="n">max_size</span><span class="o">=</span><span class="mf">1000000000.0</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Densify a dataarray's data if it is sparse.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>da</code></b>
              (<code><span title="xarray.DataArray">DataArray</span></code>)
          –
          <div class="doc-md-description">
            <p>The xarray dataarray to densify.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>max_size</code></b>
              (<code><span title="float">float</span></code>, default:
                  <code>1000000000.0</code>
)
          –
          <div class="doc-md-description">
            <p>Max size for densification. Default is 1e9 to
avoid issues with Dask and sparse.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="xarray.DataArray">DataArray</span></code>
          –
          <div class="doc-md-description">
            <p>The densified xarray dataarray.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="extremeweatherbench.utils.maybe_get_operator" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">maybe_get_operator</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">maybe_get_operator</span><span class="p">(</span><span class="n">operator_method</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Get the operator function from the operator string. If the operator_method is a
callable, return it.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>operator_method</code></b>
              (<code><span title="typing.Union">Union</span>[<span title="typing.Literal">Literal</span>[&#39;&gt;&#39;, &#39;&gt;=&#39;, &#39;&lt;&#39;, &#39;&lt;=&#39;, &#39;==&#39;, &#39;!=&#39;], <span title="typing.Callable">Callable</span>]</code>)
          –
          <div class="doc-md-description">
            <p>The operator method to get. Can be a string or a callable.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="typing.Callable">Callable</span></code>
          –
          <div class="doc-md-description">
            <p>The operator function.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="extremeweatherbench.utils.min_if_all_timesteps_present" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">min_if_all_timesteps_present</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">min_if_all_timesteps_present</span><span class="p">(</span><span class="n">da</span><span class="p">,</span> <span class="n">time_resolution_hours</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Return the minimum value of a DataArray if all timesteps of a day are present.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>da</code></b>
              (<code><span title="xarray.DataArray">DataArray</span></code>)
          –
          <div class="doc-md-description">
            <p>The input DataArray.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="xarray.DataArray">DataArray</span></code>
          –
          <div class="doc-md-description">
            <p>The minimum value of the DataArray if all timesteps are present,</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
              <code><span title="xarray.DataArray">DataArray</span></code>
          –
          <div class="doc-md-description">
            <p>otherwise the original DataArray.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="extremeweatherbench.utils.min_if_all_timesteps_present_forecast" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">min_if_all_timesteps_present_forecast</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">min_if_all_timesteps_present_forecast</span><span class="p">(</span>
    <span class="n">da</span><span class="p">,</span> <span class="n">time_resolution_hours</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Return the minimum value of a DataArray if all timesteps of a day are present
given a dataset with lead_time and valid_time dimensions.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>da</code></b>
              (<code><span title="xarray.DataArray">DataArray</span></code>)
          –
          <div class="doc-md-description">
            <p>The input DataArray.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="xarray.DataArray">DataArray</span></code>
          –
          <div class="doc-md-description">
            <p>The minimum value of the DataArray if all timesteps are present,</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
              <code><span title="xarray.DataArray">DataArray</span></code>
          –
          <div class="doc-md-description">
            <p>otherwise the original DataArray.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="extremeweatherbench.utils.read_event_yaml" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">read_event_yaml</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">read_event_yaml</span><span class="p">(</span><span class="n">input_pth</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Read events yaml from data.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="extremeweatherbench.utils.reduce_dataarray" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">reduce_dataarray</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">reduce_dataarray</span><span class="p">(</span>
    <span class="n">da</span><span class="p">,</span> <span class="n">method</span><span class="p">,</span> <span class="n">reduce_dims</span><span class="p">,</span> <span class="n">compute</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="o">**</span><span class="n">method_kwargs</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Reduce using xarray methods or numpy functions.</p>
<p>This function can utilize xarray's optimized methods (e.g., mean, sum) or
numpy/callable reductions. Using the built-in methods xarray provides can be more
efficient than using numpy functions.</p>
<p>If compute is True, the dataarray will be computed before returning.
This is useful to avoid dask exceptions when indexing with a boolean mask.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>da</code></b>
              (<code><span title="xarray.DataArray">DataArray</span></code>)
          –
          <div class="doc-md-description">
            <p>The xarray dataarray to reduce.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>method</code></b>
              (<code><span title="str">str</span> | <span title="typing.Callable">Callable</span></code>)
          –
          <div class="doc-md-description">
            <p>Either an xarray method name (e.g., 'mean', 'sum') or
a callable function (e.g., np.nanmean).</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>reduce_dims</code></b>
              (<code><span title="list">list</span>[<span title="str">str</span>]</code>)
          –
          <div class="doc-md-description">
            <p>The dimensions to reduce.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>compute</code></b>
              (<code><span title="bool">bool</span></code>, default:
                  <code>True</code>
)
          –
          <div class="doc-md-description">
            <p>Whether to compute the dataarray before returning. Defaults to True.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>**method_kwargs</code></b>
          –
          <div class="doc-md-description">
            <p>Additional kwargs for the method. Only used
when method is a string (xarray method).</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="xarray.DataArray">DataArray</span></code>
          –
          <div class="doc-md-description">
            <p>The reduced xarray dataarray.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="extremeweatherbench.utils.remove_ocean_gridpoints" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">remove_ocean_gridpoints</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">remove_ocean_gridpoints</span><span class="p">(</span><span class="n">dataset</span><span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Subset a dataset to only include land gridpoints based on a land-sea mask.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>dataset</code></b>
              (<code><span title="xarray.Dataset">Dataset</span></code>)
          –
          <div class="doc-md-description">
            <p>The input xarray dataset.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="xarray.Dataset">Dataset</span></code>
          –
          <div class="doc-md-description">
            <p>The dataset masked to only land gridpoints.</p>
          </div>
        </li>
    </ul>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="extremeweatherbench.utils.stack_dataarray_from_dims" class="doc doc-heading">
            <span class="doc doc-object-name doc-function-name">stack_dataarray_from_dims</span>


</h2>
<div class="doc-signature highlight"><pre><span></span><code><span class="nf">stack_dataarray_from_dims</span><span class="p">(</span>
    <span class="n">da</span><span class="p">,</span> <span class="n">stack_dims</span><span class="p">,</span> <span class="n">max_size</span><span class="o">=</span><span class="mf">1000000000.0</span><span class="p">,</span> <span class="n">coords</span><span class="o">=</span><span class="kc">None</span>
<span class="p">)</span>
</code></pre></div>

    <div class="doc doc-contents ">

        <p>Stack sparse data with n-dimensions.</p>
<p>In cases where sparse.COO data is in da.data, this function will stack the
dimensions and return a densified dataarray using reduce_dims.</p>


<p><span class="doc-section-title">Parameters:</span></p>
    <ul>
        <li class="doc-section-item field-body">
            <b><code>da</code></b>
              (<code><span title="xarray.DataArray">DataArray</span></code>)
          –
          <div class="doc-md-description">
            <p>An xarray dataarray with sparse.COO data</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>reduce_dims</code></b>
          –
          <div class="doc-md-description">
            <p>The dimensions to reduce.</p>
          </div>
        </li>
        <li class="doc-section-item field-body">
            <b><code>max_size</code></b>
              (<code><span title="float">float</span></code>, default:
                  <code>1000000000.0</code>
)
          –
          <div class="doc-md-description">
            <p>The maximum size of records to densify; default is 100000.</p>
          </div>
        </li>
    </ul>


<p><span class="doc-section-title">Returns:</span></p>
    <ul>
        <li class="doc-section-item field-body">
              <code><span title="xarray.DataArray">DataArray</span></code>
          –
          <div class="doc-md-description">
            <p>The densified xarray dataarray reduced to (time, location).</p>
          </div>
        </li>
    </ul>


    </div>

</div>



  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["navigation.instant", "navigation.instant.prefetch"], "search": "../../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>